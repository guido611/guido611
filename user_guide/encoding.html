

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Encodings &mdash; sphinx-test 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Marks" href="marks.html" />
    <link rel="prev" title="Specifying Data in Altair" href="data.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> sphinx-test
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/starting.html">Basic Statistical Visualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Example Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data.html">Specifying Data in Altair</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Encodings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#encoding-channels">Encoding Channels</a></li>
<li class="toctree-l2"><a class="reference internal" href="#encoding-data-types">Encoding Data Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#effect-of-data-type-on-color-scales">Effect of Data Type on Color Scales</a></li>
<li class="toctree-l3"><a class="reference internal" href="#effect-of-data-type-on-axis-scales">Effect of Data Type on Axis Scales</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#encoding-channel-options">Encoding Channel Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#binning-and-aggregation">Binning and Aggregation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#encoding-shorthands">Encoding Shorthands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ordering-marks">Ordering marks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sorting-legends-and-axes">Sorting Legends and Axes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sorting-legends">Sorting Legends</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="marks.html">Marks</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">Data Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="interactions.html">Bindings, Selections, Conditions: Making Charts Interactive</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Top-Level Chart Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="compound_charts.html">Compound Charts: Layer, HConcat, VConcat, Repeat, Facet</a></li>
<li class="toctree-l1"><a class="reference internal" href="saving_charts.html">Saving Altair Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="customization.html">Customizing Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="times_and_dates.html">Times and Dates in Altair</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Display Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderers.html">Altair Renderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Altair Internals: Understanding the Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="ecosystem.html">Altair Ecosystem</a></li>
</ul>
<p class="caption"><span class="caption-text">Case Studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../case_studies/exploring-weather.html">Exploring Seattle Weather</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="importing.html">Importing Vega &amp; Vega-Lite Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="display_frontends.html">Displaying Charts in Various Frontends</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_renderers.html">Customizing Renderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_transformers.html">Data transformers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sphinx-test</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Encodings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user_guide/encoding.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="encodings">
<span id="user-guide-encoding"></span><h1>Encodings<a class="headerlink" href="#encodings" title="Permalink to this headline">¶</a></h1>
<p>The key to creating meaningful visualizations is to map <em>properties of the data</em>
to <em>visual properties</em> in order to effectively communicate information.
In Altair, this mapping of visual properties to data columns is referred to
as an <strong>encoding</strong>, and is most often expressed through the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Chart.encode()</span></code>
method.</p>
<p>For example, here we will visualize the cars dataset using four of the available
encodings: <code class="docutils literal notranslate"><span class="pre">x</span></code> (the x-axis value), <code class="docutils literal notranslate"><span class="pre">y</span></code> (the y-axis value),
<code class="docutils literal notranslate"><span class="pre">color</span></code> (the color of the marker), and <code class="docutils literal notranslate"><span class="pre">shape</span></code> (the shape of the point marker):</p>
<p>For data specified as a DataFrame, Altair can automatically determine the
correct data type for each encoding, and creates appropriate scales and
legends to represent the data.</p>
<div class="section" id="encoding-channels">
<span id="id1"></span><h2>Encoding Channels<a class="headerlink" href="#encoding-channels" title="Permalink to this headline">¶</a></h2>
<p>Altair provides a number of encoding channels that can be useful in different
circumstances; the following table summarizes them:</p>
<p>Position Channels:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 34%" />
<col style="width: 36%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">X</span></code></p></td>
<td><p>The x-axis value</p></td>
<td><p><span class="xref std std-ref">gallery_scatter_tooltips</span></p></td>
</tr>
<tr class="row-odd"><td><p>y</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Y</span></code></p></td>
<td><p>The y-axis value</p></td>
<td><p><span class="xref std std-ref">gallery_scatter_tooltips</span></p></td>
</tr>
<tr class="row-even"><td><p>x2</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">X2</span></code></p></td>
<td><p>Second x value for ranges</p></td>
<td><p><span class="xref std std-ref">gallery_errorbars_with_ci</span></p></td>
</tr>
<tr class="row-odd"><td><p>y2</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Y2</span></code></p></td>
<td><p>Second y value for ranges</p></td>
<td><p><span class="xref std std-ref">gallery_line_with_ci</span></p></td>
</tr>
<tr class="row-even"><td><p>longitude</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Longitude</span></code></p></td>
<td><p>Longitude for geo charts</p></td>
<td><p><span class="xref std std-ref">gallery_airports</span></p></td>
</tr>
<tr class="row-odd"><td><p>latitude</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Latitude</span></code></p></td>
<td><p>Latitude for geo charts</p></td>
<td><p><span class="xref std std-ref">gallery_airports</span></p></td>
</tr>
<tr class="row-even"><td><p>longitude2</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Longitude2</span></code></p></td>
<td><p>Second longitude value for ranges</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>latitude2</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Latitude2</span></code></p></td>
<td><p>Second latitude value for ranges</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>xerror</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">XError</span></code></p></td>
<td><p>The x-axis error value</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>yerror</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">YError</span></code></p></td>
<td><p>The y-axis error value</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>xerror2</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">XError2</span></code></p></td>
<td><p>The second x-axis error value</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>yerror2</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">YError2</span></code></p></td>
<td><p>The second y-axis error value</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
<p>Mark Property Channels:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 21%" />
<col style="width: 28%" />
<col style="width: 39%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>color</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Color</span></code></p></td>
<td><p>The color of the mark</p></td>
<td><p><span class="xref std std-ref">gallery_simple_heatmap</span></p></td>
</tr>
<tr class="row-odd"><td><p>fill</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Fill</span></code></p></td>
<td><p>The fill for the mark</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>fillopacity</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">FillOpacity</span></code></p></td>
<td><p>The opacity of the mark’s fill</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>opacity</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Opacity</span></code></p></td>
<td><p>The opacity of the mark</p></td>
<td><p><span class="xref std std-ref">gallery_horizon_graph</span></p></td>
</tr>
<tr class="row-even"><td><p>shape</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code></p></td>
<td><p>The shape of the mark</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>size</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code></p></td>
<td><p>The size of the mark</p></td>
<td><p><span class="xref std std-ref">gallery_table_bubble_plot_github</span></p></td>
</tr>
<tr class="row-even"><td><p>stroke</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Stroke</span></code></p></td>
<td><p>The stroke of the mark</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>strokeopacity</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StrokeOpacity</span></code></p></td>
<td><p>The opacity of the line</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>strokewidth</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">StrokeWidth</span></code></p></td>
<td><p>The width of the line</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
<p>Text and Tooltip Channels:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 18%" />
<col style="width: 27%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>text</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></p></td>
<td><p>Text to use for the mark</p></td>
<td><p><span class="xref std std-ref">gallery_scatter_with_labels</span></p></td>
</tr>
<tr class="row-odd"><td><p>key</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code></p></td>
<td><p>–</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>tooltip</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tooltip</span></code></p></td>
<td><p>The tooltip value</p></td>
<td><p><span class="xref std std-ref">gallery_scatter_tooltips</span></p></td>
</tr>
</tbody>
</table>
<p>Hyperlink Channel:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 18%" />
<col style="width: 27%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>href</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Href</span></code></p></td>
<td><p>Hyperlink for  points</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
<p>Level of Detail Channel:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 17%" />
<col style="width: 33%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>detail</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Detail</span></code></p></td>
<td><p>Additional property to group by</p></td>
<td><p><span class="xref std std-ref">gallery_ranged_dot_plot</span></p></td>
</tr>
</tbody>
</table>
<p>Order Channel:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 18%" />
<col style="width: 33%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>order</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Order</span></code></p></td>
<td><p>Sets the order of the marks</p></td>
<td><p><span class="xref std std-ref">gallery_connected_scatterplot</span></p></td>
</tr>
</tbody>
</table>
<p>Facet Channels:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 17%" />
<col style="width: 29%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Channel</p></th>
<th class="head"><p>Altair Class</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>column</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code></p></td>
<td><p>The column of a faceted plot</p></td>
<td><p><span class="xref std std-ref">gallery_trellis_scatter_plot</span></p></td>
</tr>
<tr class="row-odd"><td><p>row</p></td>
<td><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code></p></td>
<td><p>The row of a faceted plot</p></td>
<td><p><span class="xref std std-ref">gallery_beckers_barley_trellis_plot</span></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="encoding-data-types">
<span id="id2"></span><h2>Encoding Data Types<a class="headerlink" href="#encoding-data-types" title="Permalink to this headline">¶</a></h2>
<p>The details of any mapping depend on the <em>type</em> of the data. Altair recognizes
four main data types:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 19%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Data Type</p></th>
<th class="head"><p>Shorthand Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>quantitative</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Q</span></code></p></td>
<td><p>a continuous real-valued quantity</p></td>
</tr>
<tr class="row-odd"><td><p>ordinal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">O</span></code></p></td>
<td><p>a discrete ordered quantity</p></td>
</tr>
<tr class="row-even"><td><p>nominal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">N</span></code></p></td>
<td><p>a discrete unordered category</p></td>
</tr>
<tr class="row-odd"><td><p>temporal</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">T</span></code></p></td>
<td><p>a time or date value</p></td>
</tr>
</tbody>
</table>
<p>If types are not specified for data input as a DataFrame, Altair defaults to
<code class="docutils literal notranslate"><span class="pre">quantitative</span></code> for any numeric data, <code class="docutils literal notranslate"><span class="pre">temporal</span></code> for date/time data, and
<code class="docutils literal notranslate"><span class="pre">nominal</span></code> for string data, but be aware that these defaults are by no means
always the correct choice!</p>
<p>The types can either be expressed in a long-form using the channel encoding
classes such as <code class="xref py py-class docutils literal notranslate"><span class="pre">X</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Y</span></code>, or in short-form using the
<a class="reference internal" href="#shorthand-description"><span class="std std-ref">Shorthand Syntax</span></a> discussed below.
For example, the following two methods of specifying the type will lead to
identical plots:</p>
<p>The shorthand form, <code class="docutils literal notranslate"><span class="pre">x=&quot;name:Q&quot;</span></code>, is useful for its lack of boilerplate
when doing quick data explorations. The long-form,
<code class="docutils literal notranslate"><span class="pre">alt.X('name',</span> <span class="pre">type='quantitative')</span></code>, is useful when doing more fine-tuned
adjustments to the encoding, such as binning, axis and scale properties,
or more.</p>
<p>Specifying the correct type for your data is important, as it affects the
way Altair represents your encoding in the resulting plot.</p>
<div class="section" id="effect-of-data-type-on-color-scales">
<span id="type-legend-scale"></span><h3>Effect of Data Type on Color Scales<a class="headerlink" href="#effect-of-data-type-on-color-scales" title="Permalink to this headline">¶</a></h3>
<p>As an example of this, here we will represent the same data three different ways,
with the color encoded as a <em>quantitative</em>, <em>ordinal</em>, and <em>nominal</em> type,
using three vertically-concatenated charts (see <a class="reference internal" href="compound_charts.html#vconcat-chart"><span class="std std-ref">Vertical Concatenation</span></a>):</p>
<p>The type specification influences the way Altair, via Vega-Lite, decides on
the color scale to represent the value, and influences whether a discrete
or continuous legend is used.</p>
</div>
<div class="section" id="effect-of-data-type-on-axis-scales">
<span id="type-axis-scale"></span><h3>Effect of Data Type on Axis Scales<a class="headerlink" href="#effect-of-data-type-on-axis-scales" title="Permalink to this headline">¶</a></h3>
<p>Similarly, for x and y axis encodings, the type used for the data will affect
the scales used and the characteristics of the mark. For example, here is the
difference between a <code class="docutils literal notranslate"><span class="pre">quantitative</span></code> and <code class="docutils literal notranslate"><span class="pre">ordinal</span></code> scale for an column
that contains integers specifying a year:</p>
<p>In altair, quantitative scales always start at zero unless otherwise
specified, while ordinal scales are limited to the values within the data.</p>
<p>Overriding the behavior of including zero in the axis, we see that even then
the precise appearance of the marks representing the data are affected by
the data type:</p>
<p>Because quantitative values do not have an inherent width, the bars do not
fill the entire space between the values.
This view also makes clear the missing year of data that was not immediately
apparent when we treated the years as categories.</p>
<p>This kind of behavior is sometimes surprising to new users, but it emphasizes
the importance of thinking carefully about your data types when visualizing
data: a visual encoding that is suitable for categorical data may not be
suitable for quantitative data, and vice versa.</p>
</div>
</div>
<div class="section" id="encoding-channel-options">
<span id="id3"></span><h2>Encoding Channel Options<a class="headerlink" href="#encoding-channel-options" title="Permalink to this headline">¶</a></h2>
<p>Each encoding channel allows for a number of additional options to be expressed;
these can control things like axis properties, scale properties, headers and
titles, binning parameters, aggregation, sorting, and many more.</p>
<p>The particular options that are available vary by encoding type; the various
options are listed below.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">X</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Y</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Color</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Fill</span></code>, and <code class="xref py py-class docutils literal notranslate"><span class="pre">Stroke</span></code>  encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Shape</span></code> encoding accepts the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">FillOpacity</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Opacity</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Size</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">StrokeOpacity</span></code>,
and <code class="xref py py-class docutils literal notranslate"><span class="pre">StrokeWidth</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Row</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Column</span></code>, and <code class="xref py py-class docutils literal notranslate"><span class="pre">Facet</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Tooltip</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Detail</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Key</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Latitude</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Longitude</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Latitude2</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Longitude2</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">X2</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Y2</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">XError</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">YError</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">XError2</span></code>, and <code class="xref py py-class docutils literal notranslate"><span class="pre">YError2</span></code> encodings accept the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Href</span></code> encoding accepts the following options:</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Order</span></code> encoding accepts the following options:</p>
</div>
<div class="section" id="binning-and-aggregation">
<span id="encoding-aggregates"></span><h2>Binning and Aggregation<a class="headerlink" href="#binning-and-aggregation" title="Permalink to this headline">¶</a></h2>
<p>Beyond simple channel encodings, Altair’s visualizations are built on the
concept of the database-style grouping and aggregation; that is, the
<a class="reference external" href="https://www.jstatsoft.org/article/view/v040i01">split-apply-combine</a>
abstraction that underpins many data analysis approaches.</p>
<p>For example, building a histogram from a one-dimensional dataset involves
splitting data based on the bin it falls in, aggregating the results within
each bin using a <em>count</em> of the data, and then combining the results into
a final figure.</p>
<p>In Altair, such an operation looks like this:</p>
<p>Notice here we use the shorthand version of expressing an encoding channel
(see <a class="reference internal" href="#shorthand-description"><span class="std std-ref">Encoding Shorthands</span></a>) with the <code class="docutils literal notranslate"><span class="pre">count</span></code> aggregation,
which is the one aggregation that does not require a field to be
specified.</p>
<p>Similarly, we can create a two-dimensional histogram using, for example, the
size of points to indicate counts within the grid (sometimes called
a “Bubble Plot”):</p>
<p>There is no need, however, to limit aggregations to counts alone. For example,
we could similarly create a plot where the color of each point
represents the mean of a third quantity, such as acceleration:</p>
<p>In addition to <code class="docutils literal notranslate"><span class="pre">count</span></code> and <code class="docutils literal notranslate"><span class="pre">average</span></code>, there are a large number of available
aggregation functions built into Altair; they are listed in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 58%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Aggregate</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>argmin</p></td>
<td><p>An input data object containing the minimum field value.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>argmax</p></td>
<td><p>An input data object containing the maximum field value.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>average</p></td>
<td><p>The mean (average) field value. Identical to mean.</p></td>
<td><p><span class="xref std std-ref">gallery_layer_line_color_rule</span></p></td>
</tr>
<tr class="row-odd"><td><p>count</p></td>
<td><p>The total count of data objects in the group.</p></td>
<td><p><span class="xref std std-ref">gallery_simple_heatmap</span></p></td>
</tr>
<tr class="row-even"><td><p>distinct</p></td>
<td><p>The count of distinct field values.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>max</p></td>
<td><p>The maximum field value.</p></td>
<td><p><span class="xref std std-ref">gallery_boxplot_max_min</span></p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>The mean (average) field value.</p></td>
<td><p><span class="xref std std-ref">gallery_scatter_with_layered_histogram</span></p></td>
</tr>
<tr class="row-odd"><td><p>median</p></td>
<td><p>The median field value</p></td>
<td><p><span class="xref std std-ref">gallery_boxplot_max_min</span></p></td>
</tr>
<tr class="row-even"><td><p>min</p></td>
<td><p>The minimum field value.</p></td>
<td><p><span class="xref std std-ref">gallery_boxplot_max_min</span></p></td>
</tr>
<tr class="row-odd"><td><p>missing</p></td>
<td><p>The count of null or undefined field values.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>q1</p></td>
<td><p>The lower quartile boundary of values.</p></td>
<td><p><span class="xref std std-ref">gallery_boxplot_max_min</span></p></td>
</tr>
<tr class="row-odd"><td><p>q3</p></td>
<td><p>The upper quartile boundary of values.</p></td>
<td><p><span class="xref std std-ref">gallery_boxplot_max_min</span></p></td>
</tr>
<tr class="row-even"><td><p>ci0</p></td>
<td><p>The lower boundary of the bootstrapped 95% confidence interval of the mean.</p></td>
<td><p><span class="xref std std-ref">gallery_sorted_error_bars_with_ci</span></p></td>
</tr>
<tr class="row-odd"><td><p>ci1</p></td>
<td><p>The upper boundary of the bootstrapped 95% confidence interval of the mean.</p></td>
<td><p><span class="xref std std-ref">gallery_sorted_error_bars_with_ci</span></p></td>
</tr>
<tr class="row-even"><td><p>stderr</p></td>
<td><p>The standard error of the field values.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>stdev</p></td>
<td><p>The sample standard deviation of field values.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>stdevp</p></td>
<td><p>The population standard deviation of field values.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>sum</p></td>
<td><p>The sum of field values.</p></td>
<td><p><span class="xref std std-ref">gallery_streamgraph</span></p></td>
</tr>
<tr class="row-even"><td><p>valid</p></td>
<td><p>The count of field values that are not null or undefined.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>values</p></td>
<td><p>??</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p>variance</p></td>
<td><p>The sample variance of field values.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>variancep</p></td>
<td><p>The population variance of field values.</p></td>
<td><p>N/A</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="encoding-shorthands">
<span id="shorthand-description"></span><h2>Encoding Shorthands<a class="headerlink" href="#encoding-shorthands" title="Permalink to this headline">¶</a></h2>
<p>For convenience, Altair allows the specification of the variable name along
with the aggregate and type within a simple shorthand string syntax.
This makes use of the type shorthand codes listed in <a class="reference internal" href="#encoding-data-types"><span class="std std-ref">Encoding Data Types</span></a>
as well as the aggregate names listed in <a class="reference internal" href="#encoding-aggregates"><span class="std std-ref">Binning and Aggregation</span></a>.
The following table shows examples of the shorthand specification alongside
the long-form equivalent:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Shorthand</p></th>
<th class="head"><p>Equivalent long-form</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x='name'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt.X('name')</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x='name:Q'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt.X('name',</span> <span class="pre">type='quantitative')</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x='sum(name)'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt.X('name',</span> <span class="pre">aggregate='sum')</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x='sum(name):Q'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt.X('name',</span> <span class="pre">aggregate='sum',</span> <span class="pre">type='quantitative')</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">x='count():Q'</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">alt.X(aggregate='count',</span> <span class="pre">type='quantitative')</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="ordering-marks">
<span id="ordering-channels"></span><h2>Ordering marks<a class="headerlink" href="#ordering-marks" title="Permalink to this headline">¶</a></h2>
<p>The <cite>order</cite> option and <code class="xref py py-class docutils literal notranslate"><span class="pre">Order</span></code> channel can sort how marks are drawn on the chart.</p>
<p>For stacked marks, this controls the order of components of the stack. Here, the elements of each bar are sorted alphabetically by the name of the nominal data in the color channel.</p>
<p>The order can be reversed by changing the sort option to <cite>descending</cite>.</p>
<p>The same approach works for other mark types, like stacked areas charts.</p>
<p>For line marks, the <cite>order</cite> channel encodes the order in which data points are connected. This can be useful for creating a scatterplot that draws lines between the dots using a different field than the x and y axes.</p>
</div>
<div class="section" id="sorting-legends-and-axes">
<h2>Sorting Legends and Axes<a class="headerlink" href="#sorting-legends-and-axes" title="Permalink to this headline">¶</a></h2>
<p>Specific channels can take a  <code class="xref py py-class docutils literal notranslate"><span class="pre">sort</span></code> property which determines the
order of the scale being used for the channel. There are a number of different
sort options available:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sort='ascending'</span></code> (Default) will sort the field’s value in ascending order.
for string data, this uses standard alphabetical order.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort='descending'</span></code> will sort the field’s value in descending order</p></li>
<li><p>passing a list to <code class="docutils literal notranslate"><span class="pre">sort</span></code> allows you to explicitly set the order in which
you would like the encoding to appear</p></li>
<li><p>passing a <code class="xref py py-class docutils literal notranslate"><span class="pre">EncodingSortField</span></code> class to <code class="docutils literal notranslate"><span class="pre">sort</span></code> allows you to sort
an axis by the value of some other field in the dataset.</p></li>
</ul>
<p>Here is an example of applying these four different sort approaches on the
x-axis, using the barley dataset:</p>
<div class="section" id="sorting-legends">
<h3>Sorting Legends<a class="headerlink" href="#sorting-legends" title="Permalink to this headline">¶</a></h3>
<p>While the above examples show sorting of axes by specifying <code class="docutils literal notranslate"><span class="pre">sort</span></code> in the
<code class="xref py py-class docutils literal notranslate"><span class="pre">X</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">Y</span></code> encodings, legends can be sorted by specifying
<code class="docutils literal notranslate"><span class="pre">sort</span></code> in the <code class="xref py py-class docutils literal notranslate"><span class="pre">Color</span></code> encoding:</p>
<p>Here the y-axis is sorted reverse-alphabetically, while the color legend is
sorted in the specified order, beginning with <code class="docutils literal notranslate"><span class="pre">'Morris'</span></code>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="marks.html" class="btn btn-neutral float-right" title="Marks" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data.html" class="btn btn-neutral float-left" title="Specifying Data in Altair" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Guido Drechsel

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>